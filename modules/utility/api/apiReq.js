import{fetchPost}from"/modules/utility/fetch";import{resolveVariables}from"../../../app.config";import createProduct from"./product/createProduct";import getProducts from"./product/getProducts";import sendEmail from"./email/sendEmail";import fetchHandler from"./fetch/fetchHandler";import signInUnregistered from"./user/signInUnregistered";import getVendorLinks from"./ecommerce/getVendorLinks";import checkUserStreamingStatus from"./stream/checkuserStreamingStatus";import startStream from"./stream/startStream";import endStream from"./stream/endStream";import donate from"./ecommerce/donate";export default async function api(e,r,t){var s=e?.toLowerCase?e.toLowerCase():e;switch(s){case"/product/createproduct":return createProduct(r);case"/product/getproducts":return getProducts(r);case"/email/sendemail":return sendEmail(r);case"/fetch/fetchhandler":return fetchHandler(r);case"/onboarding/signinunregistered":return signInUnregistered(r);case"/ecommerce/getvendorlinks":return getVendorLinks(r);case"/ecommerce/donate":return donate(r);case"/stream/checkuserstreamingstatus":return checkUserStreamingStatus(r);case"/stream/startstream":return startStream(r);case"/stream/endstream":return endStream(r);default:if(""!==s){var a=Object.assign(r??{},{hash:r?.hash??r?.user?.hash??r?.props?._loggedIn?.hash??null,identifier:r?.identifier??r?.user?.identifier??r?.props?._loggedIn?.identifier??null}),a=await fetchPost(resolveVariables()?.apiUrl+s,null,null,a,t);if(!a)return!1;if(a.hasOwnProperty("status")){if("disauthenticated"==a.status)return logout(),"disauthenticated";if("failed"==a.status)return!1;if("success"==a.status)return a}}return"No Request Called"}}