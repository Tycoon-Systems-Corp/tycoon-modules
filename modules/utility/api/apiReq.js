import{fetchPost}from"@tycoonsystems/tycoon-modules/utility/fetch";import{resolveVariables}from"/app.config";import createProduct from"./product/createProduct";import getProducts from"./product/getProducts";import sendEmail from"./email/sendEmail";import fetchHandler from"./fetch/fetchHandler";import signInUnregistered from"./user/signInUnregistered";import getVendorLinks from"./ecommerce/getVendorLinks";import checkUserStreamingStatus from"./stream/checkuserStreamingStatus";import startStream from"./stream/startStream";import endStream from"./stream/endStream";import donate from"./ecommerce/donate";export default async function api(e,t,r){var s=e?.toLowerCase?e.toLowerCase():e;switch(s){case"/product/createproduct":return createProduct(t);case"/product/getproducts":return getProducts(t);case"/email/sendemail":return sendEmail(t);case"/fetch/fetchhandler":return fetchHandler(t);case"/onboarding/signinunregistered":return signInUnregistered(t);case"/ecommerce/getvendorlinks":return getVendorLinks(t);case"/ecommerce/donate":return donate(t);case"/stream/checkuserstreamingstatus":return checkUserStreamingStatus(t);case"/stream/startstream":return startStream(t);case"/stream/endstream":return endStream(t);default:if(""!==s){var a=Object.assign(t??{},{hash:t?.hash??t?.user?.hash??t?.props?._loggedIn?.hash??null,identifier:t?.identifier??t?.user?.identifier??t?.props?._loggedIn?.identifier??null}),a=await fetchPost(resolveVariables()?.apiUrl+s,null,null,a,r);if(!a)return!1;if(a.hasOwnProperty("status")){if("disauthenticated"==a.status)return logout(),"disauthenticated";if("failed"==a.status)return!1;if("success"==a.status)return a}}return"No Request Called"}}