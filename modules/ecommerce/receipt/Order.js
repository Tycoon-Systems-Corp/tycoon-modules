"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_link=_interopRequireDefault(require("next/link")),_Inventory=_interopRequireDefault(require("@mui/icons-material/Inventory")),_ReceiptPageModule=_interopRequireDefault(require("./ReceiptPage.module.scss")),_ecommerce=require("../../utility/ecommerce"),_event=require("../../utility/utility/event");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var Module=function(n){function c(e){var t;return e&&null!=n&&null!=(t=n.cdn)&&t.static&&0<(null==e||null==(t=e.product)||null==(t=t.images)?void 0:t.length)?(t=e.product.images.find(function(e){return null!=(e=e.leadImg)&&e}))?"".concat(n.cdn.static,"/").concat(t.name):"".concat(n.cdn.static,"/").concat(e.product.images[0].name):""}var e,t,l,i,a=null!=(a=null==n?void 0:n.order)?a:null,r=null!=a&&a.creation&&!isNaN(new Date(Number(a.creation)))?new Date(Number(a.creation)).toString():"",u=null==a?void 0:a.currency;return _react.default.createElement("div",null,a?(t=null!=(e=null==a||null==(t=a.paymentmethoddetails)?void 0:t.card)?e:null,e=null!=(l=null==a||null==(l=a.paymentmethoddetails)?void 0:l.billing_details)?l:null,_react.default.createElement("div",{className:"short_bottom_border",style:{paddingBottom:"1rem"}},_react.default.createElement("div",null,_react.default.createElement("div",{className:"flex",style:{justifyContent:"space-between"}},_react.default.createElement("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"}},"Order ",_react.default.createElement("span",{style:{background:"#222222",borderRadius:"1rem",padding:".0rem .75rem"},selectValue:"".concat(null!=(l=null==a?void 0:a.id)?l:""),onClick:_event.selectThisText},"#",null!=(l=null==a?void 0:a.id)?l:"")," - ",_react.default.createElement("span",{selectValue:"".concat(null!=a&&a.creation&&!isNaN(Number(a.creation))&&new Date(Number(a.creation))?"".concat(new Date(Number(a.creation)).toDateString()):""),onClick:_event.selectThisText},null!=a&&a.creation&&!isNaN(Number(a.creation))&&new Date(Number(a.creation))?"".concat(new Date(Number(a.creation)).toDateString()):""),n.hideView?null:_react.default.createElement(_react.default.Fragment,null," - ",_react.default.createElement(_link.default,{href:"".concat((n.devLocal?"".concat(n.devAddress,"/r?o="):"https://".concat(n.domainUrl,"/r?o=")).concat(null==a?void 0:a.id)),style:{display:"flex",alignItems:"center"}},"View",_react.default.createElement("div",{className:"material-icons",style:{fontSize:"1rem",marginLeft:".25rem"}},"receipt")))),_react.default.createElement("div",{style:{fontSize:".7rem"}},r)),_react.default.createElement("div",{className:"flex gap-p3",style:{flexDirection:"column",marginTop:".3rem",marginBottom:".3rem"}},null!=a&&null!=(l=a.cart)&&l.map?a.cart.map(function(e,t){var l=(0,_ecommerce.resolveCurrentStyle)(e.product,e.style),a=(0,_ecommerce.resolveCurrentOption)(l,e.option),r=(0,_ecommerce.resolveRegionBasedPrice)(n,l),r=null!=(r=null==r?void 0:r.symbol)?r:"";return i=r,_react.default.createElement("div",{className:"gap-p2 Ecommerce_Item_Container",key:t,i:t},_react.default.createElement("div",{style:{display:"flex",gap:".5rem"}},_react.default.createElement("div",{className:"Ecommerce_Item_Image_Container",style:{backgroundImage:c(e)?"url(".concat(c(e),")"):null}},_react.default.createElement("img",{src:"img/default/greythumb_product.jpg",className:"Product_img",style:{width:"82.5px",maxHeight:"82.5px",opacity:c(e)?0:1}})),_react.default.createElement("div",{style:{width:"100%"}},_react.default.createElement("div",{className:"flex gap-p2 Ecommerce_Cart_Title_Main_Container"},_react.default.createElement("div",{className:"Ecommerce_Title"},null!=(t=null==e||null==(t=e.product)?void 0:t.name)?t:""),_react.default.createElement("div",{className:"Ecommerce_Cart_Price_Container ".concat(null!=n&&n.expanded?"Ecommerce_Price_Expanded_Container":null)},_react.default.createElement("div",{className:"Ecommerce_Price"},r,(0,_ecommerce.resolveMoneyFormat)(e.price)," ",u.toUpperCase()))),_react.default.createElement("div",{className:"flex",style:{justifyContent:"space-between"}},_react.default.createElement("div",null,_react.default.createElement("span",{className:"flex",style:{fontSize:".7rem",color:"grey"}},_react.default.createElement("div",null,null!=(t=null==l?void 0:l.style)?t:""),_react.default.createElement("span",null," ~ "),_react.default.createElement("div",null,null!=(l=null==a?void 0:a.option)?l:"")),_react.default.createElement("div",{className:"Ecommerce_Cart_Quantity_Container"},_react.default.createElement("div",{style:{display:"flex",alignSelf:"center"}},_react.default.createElement(_Inventory.default,{sx:{width:".85rem",height:".9rem",marginRight:".25rem"}})),_react.default.createElement("div",null,Object.prototype.hasOwnProperty.call(e,"quantity")?e.quantity:""))),_react.default.createElement("div",{className:"Ecommerce_Cart_Side_Meta_Container ".concat(null!=n&&n.expanded?"Ecommerce_Price_Expanded_Container":null)},_react.default.createElement("div",{style:{color:"grey",fontSize:".7rem",height:"17px",textAlign:"right"}},"Subtotal:"),_react.default.createElement("div",{className:"Ecommerce_Price"},r,(0,_ecommerce.resolveMoneyFormat)(e.quantity*e.price)," ",u.toUpperCase()))))))}):null),_react.default.createElement("div",{className:"flex Ecommerce_Price",style:{justifyContent:"space-between"}},_react.default.createElement("div",{style:{lineHeight:"1.4rem"}},"Total: "),_react.default.createElement("div",{style:{fontSize:"1.25rem"}},i,null!=(l=_ecommerce.westernMoneyFormat.format(null==a||null==(r=a.totals)?void 0:r.total))?l:""," ",u.toUpperCase())),_react.default.createElement("div",null,a.paymentfulfilled?_react.default.createElement("div",null,null!=a&&null!=(r=a.meta)&&r.charged&&null!=a&&a.currency?_react.default.createElement("div",{className:_ReceiptPageModule.default.pair,style:{fontSize:".7rem"}},_react.default.createElement("div",null,"Paid ",i,(0,_ecommerce.resolveMoneyFormat)(a.amountcaptured)," ",a.currency.toUpperCase()," on ",new Date(a.meta.charged).toLocaleDateString()," ",new Date(a.meta.charged).toTimeString()),_react.default.createElement("div",null,t?_react.default.createElement("div",{style:{display:"flex",gap:".25rem"}},_react.default.createElement("div",null,null!=(l=t.brand)?l:""),_react.default.createElement("div",null,null!=(r=t.last4)?r:""),_react.default.createElement("div",null,null!=e&&e.name?e.name:"")):null)):""):_react.default.createElement("div",null,_react.default.createElement("div",{style:{fontSize:".75rem"}},"Payment Unfulfilled")))))):null)},_default=exports.default=Module;