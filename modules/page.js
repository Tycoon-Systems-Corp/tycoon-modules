import React from"react";import{useRouter}from"next/router";import resolveConfig,{resolveVariables}from"/app.config";import{generateComponent,resolvePage,getServerSidePropsDefault,resolveDefaults}from"tycoon-modules/utility.js";import{isObjectEmpty}from"tycoon-modules/util";const page=t=>{const{query:r,asPath:o}=useRouter(),[e,a]=React.useState(!1),[s,i]=React.useState({});t.resolvedDefinition;const l=resolveVariables();var n=resolveConfig(l,t);let p=resolvePage(n,t.path);p&&p.data,React.useEffect(()=>{p&&p.url&&!e&&isObjectEmpty(s)&&(async()=>{var e=await resolveDefaults(p.url,t,l,r,o,a);isObjectEmpty(e)||(e=Object.assign({...t},e),i(e))})()},[e,s,p]);var u=isObjectEmpty(s)?t:s,n=resolveConfig(l,u),n=(p=resolvePage(n,u.path))&&p.data,u=generateComponent(n);return React.createElement("div",null,u)},getServerSideProps=async e=>getServerSidePropsDefault(e);export default page;export{page,getServerSideProps};