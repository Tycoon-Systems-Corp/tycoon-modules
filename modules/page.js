import React from"react";import{useRouter}from"next/router";import resolveConfig,{resolveVariables}from"/app.config";import{generateComponent,resolvePage,getServerSidePropsDefault,resolveDefaults}from"@tycoonsystems/tycoon-modules/utility.js";import{isObjectEmpty}from"@tycoonsystems/tycoon-modules/util";const page=t=>{const{query:r,asPath:o}=useRouter(),[e,s]=React.useState(!1),[a,i]=React.useState({});t.resolvedDefinition;const l=resolveVariables();var n=resolveConfig(l,t);let p=resolvePage(n,t.path);p&&p.data,React.useEffect(()=>{p&&p.url&&!e&&isObjectEmpty(a)&&(async()=>{var e=await resolveDefaults(p.url,t,l,r,o,s);isObjectEmpty(e)||(e=Object.assign({...t},e),i(e))})()},[e,a,p]);var c=isObjectEmpty(a)?t:a,n=resolveConfig(l,c),n=(p=resolvePage(n,c.path))&&p.data,c=generateComponent(n);return React.createElement("div",null,c)},getServerSideProps=async e=>getServerSidePropsDefault(e);export default page;export{page,getServerSideProps};