function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a,r=arguments[e];for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}import React from"react";import dynamic from"next/dynamic";import WatchPageStyles from"./WatchPage.module.scss";import{buildChapters}from"@tycoonsystems/tycoon-modules/streaming/watch/utility";import{v4 as uuidv4}from"uuid";const Chapters=dynamic(()=>import("/layout/video/Chapters"),{ssr:!1}),Module=s=>{const[e,a]=React.useState(!1),[,r]=React.useState("main-player"),[c,i]=React.useState(null),[n,o]=React.useState([]);React.useEffect(()=>{try{var t;e||(a((new Date).getTime()),t=uuidv4(),r(t))}catch(t){}},[e]),React.useEffect(()=>{var t;s?.watchData?.id&&s.watchData.id!=c&&(i(s.watchData.id),t=buildChapters(s.watchData),console.log(t,s),o(t))},[c,s?.watchData?.id,s?.watchData?.thumbtrack,n]);var t=React.useCallback(t=>{try{var e,a,r;t?.currentTarget?.getAttribute("modif")&&(e=t.currentTarget.getAttribute("modif"),a=n[e])&&!window.imaPlaying&&s?.playerName&&window?.videojs?.players[s.playerName]&&(r=window.videojs.players[s.playerName],!isNaN(a?.startOffset))&&r?.currentTime&&r.currentTime(a.startOffset)}catch(t){}});return React.createElement("div",{className:`${s.className} ${WatchPageStyles.ChaptersExternalContainer} ChaptersExternalContainer_Container`},React.createElement(Chapters,_extends({},s,{hydratedTimeline:n,seekChapter:t})))};export default Module;