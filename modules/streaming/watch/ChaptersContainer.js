function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a,r=arguments[e];for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}import React from"react";import dynamic from"next/dynamic";import WatchPageStyles from"./WatchPage.module.scss";import{buildChapters}from"/modules/streaming/watch/utility";import{v4 as uuidv4}from"uuid";const Chapters=dynamic(()=>import("/layout/video/Chapters"),{ssr:!1}),Module=i=>{const[e,a]=React.useState(!1),[,r]=React.useState("main-player"),[c,s]=React.useState(null),[n,o]=React.useState([]);React.useEffect(()=>{try{var t;e||(a((new Date).getTime()),t=uuidv4(),r(t))}catch(t){}},[e]),React.useEffect(()=>{var t;i?.watchData?.id&&i.watchData.id!=c&&(s(i.watchData.id),t=buildChapters(i.watchData),console.log(t,i),o(t))},[c,i?.watchData?.id,i?.watchData?.thumbtrack,n]);var t=React.useCallback(t=>{try{var e,a,r;t?.currentTarget?.getAttribute("modif")&&(e=t.currentTarget.getAttribute("modif"),a=n[e])&&!window.imaPlaying&&i?.playerName&&window?.videojs?.players[i.playerName]&&(r=window.videojs.players[i.playerName],!isNaN(a?.startOffset))&&r?.currentTime&&r.currentTime(a.startOffset)}catch(t){}});return React.createElement("div",{className:`${i.className} ${WatchPageStyles.ChaptersExternalContainer} ChaptersExternalContainer_Container`},React.createElement(Chapters,_extends({},i,{hydratedTimeline:n,seekChapter:t})))};export default Module;