function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a,r=arguments[e];for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}import React from"react";import dynamic from"next/dynamic";import WatchPageStyles from"./WatchPage.module.scss";import{buildChapters}from"/modules/streaming/watch/utility";import{v4 as uuidv4}from"uuid";const Chapters=dynamic(()=>import("/layout/video/Chapters"),{ssr:!1}),Module=a=>{const[e,r]=React.useState(!1),[,s]=React.useState("main-player"),[i,c]=React.useState(null),[n,o]=React.useState([]);React.useEffect(()=>{try{var t;e||(r((new Date).getTime()),t=uuidv4(),s(t))}catch(t){}},[e]),React.useEffect(()=>{var t;a?.watchData?.id&&a.watchData.id!=i&&(c(a.watchData.id),t=buildChapters(a.watchData),o(t))},[i,a?.watchData?.id,a?.watchData?.thumbtrack]);var t=React.useCallback(t=>{var e;t?.currentTarget?.getAttribute("modif")&&(t=t.currentTarget.getAttribute("modif"),t=n[t])&&a?.playerName&&window?.videojs?.players[a.playerName]&&(e=window.videojs.players[a.playerName],!isNaN(t?.startOffset))&&e?.currentTime&&e.currentTime(t.startOffset)});return React.createElement("div",{className:`${a.className} ${WatchPageStyles.ChaptersExternalContainer} ChaptersExternalContainer_Container`},React.createElement(Chapters,_extends({},a,{hydratedTimeline:n,seekChapter:t})))};export default Module;