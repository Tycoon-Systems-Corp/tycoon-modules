function _callback_onAutoplayBlocked(){}function isSafari(){var e=-1<window.navigator.userAgent.toLowerCase().indexOf("chrome"),t=-1<window.navigator.userAgent.toLowerCase().indexOf("safari");return!e&&t}const setAndPlay=(e,t,o)=>{o?.src&&(setSource(e,t,o),ensureAutoPlay(o.play,o))},setSource=(e,t,o)=>{o.src({src:e,type:"hls"===t?"application/x-mpegURL":"application/dash+xml"})},ensureSetSource=(e,t,o,r)=>{""===e?.currentSrc()&&""!==t?.src&&(o="Live"==(t=o??props?.watchData)?.__typename||checkiOS()?"hls":"mpd",t)&&t[o]&&props?.cdn?.static&&(t=props.cdn.static+"/video/"+t[o],e.src({src:t,type:"hls"==o?"application/x-mpegURL":"application/dash+xml"}))};function ensureAutoPlay(t,o,r){try{var e=window.Promise?window.Promise.toString():"";if(-1!==e.indexOf("function Promise()")||-1!==e.indexOf("function ZoneAwarePromise()"))return console.log(t),t().catch(function(e){return"NotAllowedError"==e.name?(console.error("_checkAutoPlay: error.name:","NotAllowedError"),r&&r()):"AbortError"==e.name&&isSafari()?(console.error("_checkAutoPlay: AbortError (Safari)"),r&&r()):console.error("_checkAutoPlay: happened something else ",e),e}).then(function(e){if(console.log("_checkAutoPlay: then"),console.log(t,o,e),e&&e.toString&&/failed because the user didn\'t interact with the document first/.test(e.toString()))o.muted(!0);else if(e?.toString&&/Cannot read properties of undefined/.test(e.toString()))return setTimeout(()=>{try{o&&o.play()}catch(e){console.log("Issue autoplaying after delayed attempt")}},250),null;try{return console.log("Attempt Play",o.play,o),o.play(),setTimeout(()=>{o.hasStarted()||(o.muted(!0),o.play())}),!0}catch(e){return e}});console.error("_checkAutoplay: promise could not work in your browser ",t)}catch(e){return console.log(e),e}}export default{ensureAutoPlay:ensureAutoPlay,ensureSetSource:ensureSetSource,setAndPlay:setAndPlay,setSource:setSource};export{setAndPlay,setSource,ensureSetSource,ensureAutoPlay};