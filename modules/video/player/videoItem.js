"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_image=_interopRequireDefault(require("next/image")),_link=_interopRequireDefault(require("next/link")),_videoItemModule=_interopRequireDefault(require("./videoItem.module.scss")),_excluded=["item","index","setActive","unsetActiveItem","activeItem","previousActiveItemData","allowEditingFlag"];function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){if(null==e)return{};var a,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),n=0;n<i.length;n++)a=i[n],0<=t.indexOf(a)||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a]);return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var a,r={},i=Object.keys(e),n=0;n<i.length;n++)a=i[n],0<=t.indexOf(a)||(r[a]=e[a]);return r}var VideoItem=function(t){var a=t.item,r=t.index,i=t.setActive,n=t.unsetActiveItem,e=t.activeItem,c=t.previousActiveItemData,l=(t.allowEditingFlag,_objectWithoutProperties(t,_excluded),_react.default.useRef());return _react.default.useEffect(function(){function e(e){i(e,r,a,c)}function t(){n(r)}return"number"==typeof r&&l&&l.current&&a&&(l.current.addEventListener("mouseenter",e),l.current.addEventListener("mouseleave",t)),function(){l&&l.current&&a&&(l.current.removeEventListener("mouseenter",e),l.current.removeEventListener("mouseleave",t))}},[r,l,a,e,c]),console.log(a,t),_react.default.createElement("div",{className:"".concat(_videoItemModule.default.leadContainer," Item_GhostMetaItemContainer"),key:r},_react.default.createElement("div",{className:e==r?"".concat(_videoItemModule.default.container," activeVideoItemContainer"):"".concat(_videoItemModule.default.container),ref:l},_react.default.createElement(_link.default,{href:"w?v=".concat(a.id),style:{display:"grid"}},_react.default.createElement("div",{className:e==r?"".concat(_videoItemModule.default.ghostVideoContainer," ").concat(_videoItemModule.default.ghostVideoContainerActive," ghostVideoContainerItem ghostVideoContainerItemActive"):"".concat(_videoItemModule.default.ghostVideoContainer," ghostVideoContainerItem")},_react.default.createElement("div",{className:"ghostVideoItem"}),_react.default.createElement("div",{className:"ghostVideoMeta"},_react.default.createElement("div",null,a.title)))),_react.default.createElement(_link.default,{href:"w?v=".concat(a.id),style:{display:"grid"}},a&&"Live"==a.__typename&&"live"==a.status?_react.default.createElement("div",{className:"LiveTag",style:{borderRadius:".25rem"}},"LIVE",_react.default.createElement("div",{className:"RecordingCircle RecordingCircle_Small"})):null,_react.default.createElement("div",{className:"Item_GhostMetaContainer"},a&&"Live"==a.__typename?_react.default.createElement("div",{className:"Item_GhostMeta"},!a.creation||isNaN(a.creation)||isNaN(new Date(Number(a.creation)))?null:_react.default.createElement("div",{className:"Item_TinyMetaText",style:{marginBottom:".25rem",textShadow:"1px 2px 6px rgb(0 0 0 / 75%)"}},"Stream started ",new Date(Number(a.creation)).toTimeString()),_react.default.createElement("div",{className:"Item_GhostMetaContainerInternal"},_react.default.createElement("div",null,a.description||"Watch Livestream Now"))):null),_react.default.createElement(_image.default,{loader:function(e){e=e.src;return e.match(/greythumb/)?"".concat(e):t.cdn&&t.cdn.static&&0<t.cdn.static.length?"".concat(t.cdn.static,"/").concat(e):void 0},src:a.gif&&t.cdn&&t.cdn.static?a.gif:a.thumbnail&&t.cdn&&t.cdn.static?a.thumbnail:"img/default/greythumb.jpg",alt:a.title||"",width:320,height:180,layout:"responsive"}))),_react.default.createElement("div",{className:"".concat(_videoItemModule.default.metaContainer)},_react.default.createElement("div",null,a&&a.title?a.title:null)))},_default=exports.default=VideoItem;