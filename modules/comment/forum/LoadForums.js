import React from"react";import{v4 as uuidv4}from"uuid";import apiReq from"/modules/utility/api/apiReq";const Module=t=>{const[a,i]=React.useState(!1),[,r]=React.useState(null),[c,l]=React.useState([]),[o,m]=React.useState(0),u=(React.useEffect(()=>{var e;a||(e=uuidv4(),r(e),u(0),i(!0))},[a]),async e=>{var a;t?.goto?(a=await apiReq("/p/loadforums",{goto:t?.goto,offset:e,limit:t?.limit??100}))?.data&&l(a.data):t?.par&&(a=await apiReq("/p/loadforums",{par:t?.par,offset:e,limit:t?.limit??100}))?.data&&l(a.data)}),s=React.useCallback(e=>{e?.currentTarget?.getAttribute&&(e=e.currentTarget.getAttribute("i"),m(Number(e)),u(e*t?.limit??100))});var e=[o-2,o-1,o,o+1,o+2];return React.createElement("div",{className:t.className+" LoadForums_Container"},c?.map?c.map((e,a)=>React.createElement("div",{key:a},React.createElement("div",{className:"LoadForums_ThreadLinkContainer"},React.createElement("a",{href:""+(e?.goto??e?.par??"/c/"+e.id)},e?.name??e.id)))):null,React.createElement("ul",{className:"PaginationContainer"},e.map((e,a)=>-1<e&&e>=o&&100<=c?.length?React.createElement("li",{className:e==o?"ActivePage":"",scope:"itemOffset",hierarchy:"slave",key:a,i:e,onClick:s},e+1):null)))};export default Module;