"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_link=_interopRequireDefault(require("next/link")),_uuid=require("uuid"),_Tooltip=_interopRequireDefault(require("@mui/material/Tooltip")),_AdminModule=_interopRequireDefault(require("./Admin.module.scss")),_SignIn=require("../utility/onboarding/SignIn"),_fetch=require("../utility/fetch"),_date=require("../utility/utility/date"),_ecommerce=require("../utility/ecommerce"),_util=require("../util"),_payment=require("../payment");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,a){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a,r=arguments[t];for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return i};var u,i={},e=Object.prototype,c=e.hasOwnProperty,d=Object.defineProperty||function(e,t,a){e[t]=a.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(u){l=function(e,t,a){return e[t]=a}}function o(e,t,a,r){var n,l,i,o,t=t&&t.prototype instanceof v?t:v,t=Object.create(t.prototype),r=new S(r||[]);return d(t,"_invoke",{value:(n=e,l=a,i=r,o=m,function(e,t){if(o===y)throw new Error("Generator is already running");if(o===p){if("throw"===e)throw t;return{value:u,done:!0}}for(i.method=e,i.arg=t;;){var a=i.delegate;if(a){a=function e(t,a){var r=a.method,n=t.iterator[r];if(n===u)return a.delegate=null,"throw"===r&&t.iterator.return&&(a.method="return",a.arg=u,e(t,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;r=s(n,t.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,_;n=r.arg;return n?n.done?(a[t.resultName]=n.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=u),a.delegate=null,_):n:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,_)}(a,i);if(a){if(a===_)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===m)throw o=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=y;a=s(n,l,i);if("normal"===a.type){if(o=i.done?p:f,a.arg===_)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(o=p,i.method="throw",i.arg=a.arg)}})}),t}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}i.wrap=o;var m="suspendedStart",f="suspendedYield",y="executing",p="completed",_={};function v(){}function h(){}function g(){}var t={},E=(l(t,r,function(){return this}),Object.getPrototypeOf),E=E&&E(E(D([]))),b=(E&&E!==e&&c.call(E,r)&&(t=E),g.prototype=v.prototype=Object.create(t));function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function N(i,o){var t;d(this,"_invoke",{value:function(a,r){function e(){return new o(function(e,t){!function t(e,a,r,n){var l,e=s(i[e],i,a);if("throw"!==e.type)return(a=(l=e.arg).value)&&"object"==_typeof(a)&&c.call(a,"__await")?o.resolve(a.__await).then(function(e){t("next",e,r,n)},function(e){t("throw",e,r,n)}):o.resolve(a).then(function(e){l.value=e,r(l)},function(e){return t("throw",e,r,n)});n(e.arg)}(a,r,e,t)})}return t=t?t.then(e,e):e()}})}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function D(t){if(t||""===t){var a,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return a=-1,(e=function e(){for(;++a<t.length;)if(c.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(_typeof(t)+" is not iterable")}return d(b,"constructor",{value:h.prototype=g,configurable:!0}),d(g,"constructor",{value:h,configurable:!0}),h.displayName=l(g,n,"GeneratorFunction"),i.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,n,"GeneratorFunction")),e.prototype=Object.create(b),e},i.awrap=function(e){return{__await:e}},w(N.prototype),l(N.prototype,a,function(){return this}),i.AsyncIterator=N,i.async=function(e,t,a,r,n){void 0===n&&(n=Promise);var l=new N(o(e,t,a,r),n);return i.isGeneratorFunction(t)?l:l.next().then(function(e){return e.done?e.value:l.next()})},w(b),l(b,n,"Generator"),l(b,r,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),i.keys=function(e){var t,a=Object(e),r=[];for(t in a)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in a)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=D,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var r=this;function e(e,t){return l.type="throw",l.arg=a,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t],l=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var i=c.call(n,"catchLoc"),o=c.call(n,"finallyLoc");if(i&&o){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;0<=a;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var n=r;break}}var l=(n=n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc?null:n)?n.completion:{};return l.type=e,l.arg=t,n?(this.method="next",this.next=n.finallyLoc,_):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),x(a),_}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a,r,n=this.tryEntries[t];if(n.tryLoc===e)return"throw"===(a=n.completion).type&&(r=a.arg,x(n)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:D(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=u),_}},i}function asyncGeneratorStep(e,t,a,r,n,l,i){try{var o=e[l](i),u=o.value}catch(e){return void a(e)}o.done?t(u):Promise.resolve(u).then(r,n)}function _asyncToGenerator(o){return function(){var e=this,i=arguments;return new Promise(function(t,a){var r=o.apply(e,i);function n(e){asyncGeneratorStep(r,t,a,n,l,"next",e)}function l(e){asyncGeneratorStep(r,t,a,n,l,"throw",e)}n(void 0)})}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var a;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(a="Object"===(a=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _iterableToArrayLimit(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l,i,o=[],u=!0,c=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=l.call(a)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var moduleName="BillingAdmin",Module=function(l){var e=_slicedToArray(_react.default.useState(!1),2),t=e[0],a=e[1],e=_slicedToArray(_react.default.useState(null),2),r=(e[0],e[1]),e=_slicedToArray(_react.default.useState((new Date).getMonth()),2),i=e[0],n=e[1],e=_slicedToArray(_react.default.useState((new Date).getFullYear()),2),o=e[0],u=e[1],e=_slicedToArray(_react.default.useState(null),2),c=e[0],d=e[1],e=_slicedToArray(_react.default.useState(null),2),s=e[0],m=e[1],e=_slicedToArray(_react.default.useState(!1),2),f=e[0],y=e[1],e=_slicedToArray(_react.default.useState(null),2),p=e[0],_=e[1],v=(l._LocalEventEmitter.unsubscribe(moduleName),l._LocalEventEmitter.subscribe(moduleName,function(e){e&&e.dispatch}),_react.default.useEffect(function(){var e;t||(e=(0,_uuid.v4)(),r(e),v(),a(!0))},[t]),function(){var a=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,a){var r,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={domainKey:l.domainKey,hash:l._loggedIn.hash,identifier:l._loggedIn.identifier,month:void 0!==t?t:i,year:void 0!==a?a:o,adminStripeSecretKey:!0},e.next=3,(0,_fetch.fetchPost)(l.apiUrl+"/a/getplatformbillinginvoices",null,null,r);case 3:if(n=e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:if(n.hasOwnProperty("status")){if("disauthenticated"==n.status)return(0,_SignIn.logout)(),e.abrupt("return","disauthenticated");e.next=14}else e.next=25;break;case 14:if("failed"==n.status)return d(null),e.abrupt("return",!1);e.next=19;break;case 19:if("success"==n.status)return console.log(n),null!=n&&n.data&&d(n.data),null!=n&&n.adminStripeSecretKey&&(_(n.adminStripeSecretKey),y(!0)),n.outstanding&&m(n.outstanding),e.abrupt("return",n);e.next=25;break;case 25:case"end":return e.stop()}},e)}));return function(e,t){return a.apply(this,arguments)}}()),h=_react.default.useCallback(function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var a,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&null!=(a=t.currentTarget)&&a.getAttribute)if(a=t.currentTarget.getAttribute("m"),r=t.currentTarget.getAttribute("y"),void 0!==a&&void 0!==r)return n(Number(a)),u(Number(r)),e.next=8,v(Number(a),Number(r));e.next=8;break;case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),e=_react.default.useMemo(function(){for(var e=[],t=(new Date).getMonth(),a=(new Date).getFullYear(),r=0;r<24;r++)e.push({m:t,y:a}),0===t?(--a,t=11):--t;return e},[i,o]);return console.log(i,o,c,l),_react.default.createElement("div",{className:"".concat(l.className," ").concat(moduleName,"_Container")},_react.default.createElement("h3",null,"Billing"),_react.default.createElement("div",{className:"Billing_Container"},_react.default.createElement("div",{className:"".concat(_AdminModule.default.MonthsContainer," tagContainer tinyBar"),style:{paddingBottom:".25rem"}},e.map(function(e,t){return _react.default.createElement("button",{className:"tagItem ".concat(i===e.m&&o===e.y?"tagItemSelected":""),style:{whiteSpace:"nowrap"},key:t,m:e.m,y:e.y,onClick:h},_date.MONTHS[e.m]," ",e.y)})),f?_react.default.createElement("div",{style:{marginBottom:".5rem"}},_react.default.createElement(_payment.CreditCard,_extends({},l,{useAdmin:p,hide:f}))):null,s?_react.default.createElement("div",{style:{marginBottom:".5rem"}},_react.default.createElement("div",{style:{fontSize:"1rem",fontWeight:"600"}},"Currently Outstanding"),_react.default.createElement("div",null,"$ ",s.total?_ecommerce.westernMoneyFormat.format(s.total):"0")):null,0===(null==c||null==(e=c.simpleData)?void 0:e.total)&&"not due"!==(null==c?void 0:c.status)?_react.default.createElement("div",{style:{marginBottom:".5rem"}},_react.default.createElement("div",{style:{fontSize:"1rem",fontWeight:"600"}},"No bill this month"),_react.default.createElement("div",null,"Thankyou for your Business")):"paid"===(null==c?void 0:c.status)?_react.default.createElement("div",{style:{marginBottom:".5rem"}},_react.default.createElement("div",{style:{fontSize:"1rem",fontWeight:"600"}},"Paid"),_react.default.createElement("div",null,"Thankyou for your Business")):null,_react.default.createElement("div",null,c?_react.default.createElement("div",{className:"".concat(_AdminModule.default.ChargesExternalContainer),style:{marginTop:".5rem"}},_react.default.createElement("div",{style:{fontWeight:"600",fontSize:"1.5rem",marginBottom:"2rem",marginTop:"1rem"}},"Tycoon Systems Corp. charges by service"),_react.default.createElement("div",{className:"".concat(_AdminModule.default.ChargesContainer),style:{marginBottom:"2rem"}},_react.default.createElement("div",{className:"".concat(_AdminModule.default.ChargesInternalContainer)},_react.default.createElement("div",{className:"".concat(_AdminModule.default.DetailTableContainer)},_react.default.createElement("table",{className:"".concat(_AdminModule.default.DetailTable," ").concat(_AdminModule.default.DetailTableCheckered),style:{width:"100%"}},_react.default.createElement("tr",null,_react.default.createElement("th",null,"Details"),_react.default.createElement("th",null,"Rate"),_react.default.createElement("th",null,"Qty"),_react.default.createElement("th",null,"Line Total")),null!=c&&null!=(p=c.simpleData)&&p.table?c.simpleData.table.map(function(e,t){return _react.default.createElement("tr",{key:t},_react.default.createElement("td",{className:"".concat(_AdminModule.default.DescriptionContainer)},e.description,e.customerCharged?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("span",null," | "),_react.default.createElement("span",null,_react.default.createElement("span",{style:{color:"#27ff27",fontWeight:"600"}},"$",_ecommerce.westernMoneyFormat.format(e.customerCharged))," USD was processed this period ",-1<["due","sent"].indexOf(null==c?void 0:c.status)?"":"so far")):null),_react.default.createElement("td",{className:"".concat(_AdminModule.default.TableNumber)},e.rate,"/",e.measureBy),_react.default.createElement("td",{className:"".concat(_AdminModule.default.TableNumber)},e.qty.toFixed?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.qty):e.qty),_react.default.createElement("td",{className:"".concat(_AdminModule.default.TableNumber)},e.lineTotal.toFixed?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.lineTotal):e.lineTotal))}):null)),_react.default.createElement("div",{className:"flex gap-p20",style:{justifyContent:"right",marginTop:"1rem"}},_react.default.createElement("div",{style:{maxWidth:"300px",width:"100%"}},_react.default.createElement("div",{className:"flex",style:{justifyContent:"space-between",width:"100%"}},_react.default.createElement("div",null,"Subtotal"),_react.default.createElement("div",{className:"w600"},"$ ",null!=c&&null!=(f=c.simpleData)&&f.subTotal?_ecommerce.westernMoneyFormat.format(c.simpleData.subTotal):"0")),_react.default.createElement("div",{className:"flex",style:{justifyContent:"space-between",width:"100%"}},_react.default.createElement("div",null,"Tax"),_react.default.createElement("div",{className:"w600"},"$ ",null!=c&&null!=(s=c.simpleData)&&s.subTotal?_ecommerce.westernMoneyFormat.format(c.simpleData.tax):"0")),_react.default.createElement("div",null," "),_react.default.createElement("div",{className:"flex",style:{borderTop:"1px solid black",justifyContent:"space-between",width:"100%"}},_react.default.createElement("div",null,"Current Bill Total"),_react.default.createElement("div",{className:"w600"},"$ ",null!=c&&null!=(e=c.simpleData)&&e.total?_ecommerce.westernMoneyFormat.format(c.simpleData.total):"0")),_react.default.createElement("div",{style:{fontSize:".7rem"}},"(",null!=(f=null==c||null==(p=c.simpleData)?void 0:p.currency)?f:" ",")"))),_react.default.createElement("div",null,_react.default.createElement("div",{style:{marginTop:"1rem"}},"not due"===(null==c?void 0:c.status)?"This Bill is not due yet":-1<["due","sent"].indexOf(null==c?void 0:c.status)?"This Bill is due, please see Invoice":0===(null==c||null==(s=c.simpleData)?void 0:s.total)?"No Bill this month":-1<["paid"].indexOf(null==c?void 0:c.status)?"This Bill has been paid":" "))))):_react.default.createElement("div",null,"No Billing Info for this period"),-1<["due","sent","paid"].indexOf(null==c?void 0:c.status)&&void 0!==i&&null!==c&&0!==(null==c||null==(e=c.simpleData)?void 0:e.total)?_react.default.createElement("div",null,_react.default.createElement("div",{style:{fontWeight:"600",fontSize:"1.5rem",marginBottom:"2rem",marginTop:"1rem"}},"Please see your Invoice for the month of ",null!=(s=null!=(f=null==c||null==(p=c.simpleData)?void 0:p.period)?f:"".concat(_date.MONTHS[i]).concat(o))?s:" "," below"),_react.default.createElement("div",{className:"".concat(_AdminModule.default.InvoiceContainer),style:{marginBottom:"2rem",position:"relative"}},_react.default.createElement("div",{className:"".concat(_AdminModule.default.InvoiceInternalContainer)},-1<["paid"].indexOf(null==c?void 0:c.status)?_react.default.createElement("div",{className:"".concat(_AdminModule.default.PaidStamp)},"Paid"):null,_react.default.createElement("div",null,_react.default.createElement("div",{className:"".concat(_AdminModule.default.Entity),style:{marginBottom:".5rem"}},null!=(p=null==c||null==(e=c.data)?void 0:e.payeeEntity)?p:" "),_react.default.createElement("div",null,null!=(s=null==c||null==(f=c.data)?void 0:f.address)?s:" "),_react.default.createElement("div",{className:"flex gap-p2"},_react.default.createElement("div",null,null!=c&&null!=(e=c.data)&&e.payeeCity?c.data.payeeCity+", ":" "),_react.default.createElement("div",null,null!=(f=null==c||null==(p=c.data)?void 0:p.payeeState)?f:" "),_react.default.createElement("div",null,null!=(e=null==c||null==(s=c.data)?void 0:s.payeePostalCode)?e:" ")),_react.default.createElement("div",null,null!=(f=null==c||null==(p=c.data)?void 0:p.payeeCountry)?f:" "),_react.default.createElement("div",{className:"flex gap-p2"},_react.default.createElement("div",null,null!=(e=null==c||null==(s=c.data)?void 0:s.payeeNumber)?e:" "),_react.default.createElement("div",null,null!=c&&null!=(p=c.data)&&p.payeeNumber&&null!=c&&null!=(f=c.data)&&f.payeeWebsite?"|":" "),_react.default.createElement("div",null,null!=(e=null==c||null==(s=c.data)?void 0:s.payeeWebsite)?e:" "))),_react.default.createElement("div",{className:"".concat(_AdminModule.default.QuoteContainer)},_react.default.createElement("div",{className:"".concat(_AdminModule.default.InvoiceLabel)},"INVOICE"),_react.default.createElement("div",null,_react.default.createElement("div",{className:"flex",style:_defineProperty(_defineProperty({justifyContent:"right"},"justifyContent","space-between"),"marginLeft","25%")},_react.default.createElement("div",null,"Invoice #"),_react.default.createElement("div",null,null!=(p=null==c?void 0:c.id)?p:" ")),_react.default.createElement("div",{className:"flex",style:_defineProperty(_defineProperty({justifyContent:"right"},"justifyContent","space-between"),"marginLeft","25%")},_react.default.createElement("div",null,"Date"),_react.default.createElement("div",null,null!=c&&null!=(f=c.simpleData)&&f.dateIssued?"".concat(new Date(c.simpleData.dateIssued).toLocaleDateString()," ").concat(new Date(c.simpleData.dateIssued).toTimeString()):" ")))),_react.default.createElement("div",{className:"flex gap-p2",style:{justifyContent:"space-between"}},_react.default.createElement("div",null,_react.default.createElement("div",{style:{fontWeight:"600"}},"Bill To"),_react.default.createElement("div",null,null!=c&&null!=(s=c.data)&&s.payerEntity?c.data.payerEntity.toUpperCase():""),_react.default.createElement("div",{className:"flex gap-p2"},_react.default.createElement("div",null,null!=c&&null!=(e=c.data)&&e.payerCity?c.data.payerCity+", ":""),_react.default.createElement("div",null,null!=(f=null==c||null==(p=c.data)?void 0:p.payerState)?f:""),_react.default.createElement("div",null,null!=(e=null==c||null==(s=c.data)?void 0:s.payerPostalCode)?e:"")),_react.default.createElement("div",null,null!=(f=null==c||null==(p=c.data)?void 0:p.payerCountry)?f:""),_react.default.createElement("div",{className:"flex gap-p2"},null!=c&&null!=(s=c.data)&&s.payerNumber?_react.default.createElement("div",null,null==c||null==(e=c.data)?void 0:e.payerNumber):null,null!=c&&null!=(p=c.data)&&p.payerNumber&&null!=c&&null!=(f=c.data)&&f.payerWebsite?_react.default.createElement("div",null,null!=c&&null!=(s=c.data)&&s.payerNumber&&null!=c&&null!=(e=c.data)&&e.payerWebsite?"|":""):null,_react.default.createElement("div",null,null!=(f=null==c||null==(p=c.data)?void 0:p.payerWebsite)?f:" "))),null!=c&&null!=(s=c.simpleData)&&s.total&&null!=c&&null!=(e=c.data)&&e.currency?_react.default.createElement("div",null,_react.default.createElement("div",{style:{marginBottom:".25rem"}},"TOTAL AMOUNT DUE IN ",c.data.currency),_react.default.createElement("div",{style:{fontSize:"2rem",textAlign:"right",fontWeight:"600",background:"blue",color:"white"}},"$ ",_ecommerce.westernMoneyFormat.format(c.simpleData.total))):null),_react.default.createElement("div",{className:"".concat(_AdminModule.default.DetailTableContainer)},_react.default.createElement("table",{className:"".concat(_AdminModule.default.DetailTable)},_react.default.createElement("tr",null,_react.default.createElement("th",null,"Details"),_react.default.createElement("th",null,"Rate"),_react.default.createElement("th",null,"Qty"),_react.default.createElement("th",null,"Line Total")),null!=c&&null!=(p=c.simpleData)&&p.table?c.simpleData.table.map(function(e,t){return _react.default.createElement("tr",{key:t},_react.default.createElement("td",{className:"".concat(_AdminModule.default.DescriptionContainer)},e.description," ",e.customerCharged?"| $".concat(_ecommerce.westernMoneyFormat.format(e.customerCharged)," USD was processed this period"):""),_react.default.createElement("td",{className:"".concat(_AdminModule.default.TableNumber)},e.rate,"/",e.measureBy),_react.default.createElement("td",{className:"".concat(_AdminModule.default.TableNumber)},e.qty.toFixed?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.qty):e.qty),_react.default.createElement("td",{className:"".concat(_AdminModule.default.TableNumber)},e.lineTotal.toFixed?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.lineTotal):e.lineTotal))}):null)),_react.default.createElement("div",{className:"flex gap-p20",style:{justifyContent:"space-between",marginTop:"1rem"}},_react.default.createElement("div",{style:{width:"100%"}},_react.default.createElement("div",{className:"w600",style:{fontSize:".8rem"}},"Payment Method"),_react.default.createElement("div",{style:{fontSize:".75rem"}},null!=(s=null==c||null==(f=c.data)?void 0:f.paymentMethod)?s:" "),_react.default.createElement("div",{style:{fontSize:".75rem",marginTop:"1rem"}},null!=(p=null==c||null==(e=c.data)?void 0:e.payeeNote)?p:" ")),_react.default.createElement("div",{style:{width:"100%"}},_react.default.createElement("div",{className:"flex",style:{justifyContent:"space-between",width:"100%"}},_react.default.createElement("div",null,"Subtotal"),_react.default.createElement("div",{className:"w600"},"$ ",null!=c&&null!=(f=c.simpleData)&&f.subTotal?_ecommerce.westernMoneyFormat.format(c.simpleData.subTotal):" ")),_react.default.createElement("div",{className:"flex",style:{justifyContent:"space-between",width:"100%"}},_react.default.createElement("div",null,"Tax"),_react.default.createElement("div",{className:"w600"},"$ ",null!=c&&null!=(s=c.simpleData)&&s.subTotal?_ecommerce.westernMoneyFormat.format(c.simpleData.tax):" ")),_react.default.createElement("div",null," "),_react.default.createElement("div",{className:"flex",style:{borderTop:"1px solid black",justifyContent:"space-between",width:"100%"}},_react.default.createElement("div",null,"Total Due"),_react.default.createElement("div",{className:"w600"},"$ ",null!=c&&null!=(e=c.simpleData)&&e.total?_ecommerce.westernMoneyFormat.format(c.simpleData.total):" ")),_react.default.createElement("div",{style:{fontSize:".7rem"}},"(",null!=(f=null==c||null==(p=c.simpleData)?void 0:p.currency)?f:" ",")"))),_react.default.createElement("div",null,_react.default.createElement("div",{className:"".concat(_AdminModule.default.millerText),style:{textAlign:"right",fontStyle:"italic"}},null!=(e=null==c||null==(s=c.data)?void 0:s.paymentThankyou)?e:" "))))):null)))},_default=exports.default=Module;